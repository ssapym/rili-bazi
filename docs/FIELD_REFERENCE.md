# 八字排盘系统字段参考手册

本文档详细说明 API 返回的所有 JSON 字段含义及数据结构。

## 命名规范

### 通用规则

- 通用英文术语使用英文，如 baseInfo、age、gender
- 命理专用术语使用拼音，如 tiangan、dizhi、nayin、shensha
- 组合概念也使用拼音，如 canggan、fuxing、xingyun

### 第一层模块

| 字段 | 类型 | 说明 |
|------|------|------|
| baseInfo | object | 基本信息，包含用户出生基本数据 |
| sizhu | object | 四柱信息，年、月、日、时 |
| chonghe | object | 刑冲合害关系 |
| nengliang | object | 能量分析 |
| geju | object | 格局分析 |
| dayun | object | 大运流年 |
| shensha | array | 神煞数组（包含在 sizhu 中） |

---

## baseInfo（基本信息）

### 数据结构

```json
{
  "baseInfo": {
    "solarBirthday": "1997年4月11日 10:00",
    "lunarBirthday": "丁丑三月初五丁巳时",
    "gender": "女性",
    "chineseZodiac": "丑 (牛)",
    "zodiac": "白羊座",
    "age": 28,
    "bazi": "丁丑 甲辰 癸未 丁巳",
    "baziArr": {
      "niangan": "丁",
      "nianzhi": "丑",
      "yuegan": "甲",
      "yuezhi": "辰",
      "rigan": "癸",
      "rizhi": "未",
      "shigan": "丁",
      "shizhi": "巳"
    }
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| solarBirthday | string | 公历生日，格式如「1997年4月11日 10:00」 |
| lunarBirthday | string | 农历生日，格式如「丁丑三月初五丁巳时」 |
| gender | string | 性别，「男性」或「女性」 |
| chineseZodiac | string | 生肖，格式如「丑 (牛)」 |
| zodiac | string | 星座，格式如「白羊座」 |
| age | number | 虚岁年龄 |
| bazi | string | 八字字符串，格式如「丁丑 甲辰 癸未 丁巳」 |
| baziArr | object | 八字数组对象 |

### baziArr 字段

| 字段 | 类型 | 说明 |
|------|------|------|
| niangan | string | 年干 |
| nianzhi | string | 年支 |
| yuegan | string | 月干 |
| yuezhi | string | 月支 |
| rigan | string | 日干 |
| rizhi | string | 日支 |
| shigan | string | 时干 |
| shizhi | string | 时支 |

---

## sizhu（四柱）

### 数据结构

```json
{
  "sizhu": {
    "nian": {
      "zhuxing": "偏财",
      "tiangan": "丁",
      "dizhi": "丑",
      "canggan": [
        { "ming": "己", "jibie": "本气", "shishen": "七杀", "fuxing": "比肩" },
        { "ming": "癸", "jibie": "中气", "shishen": "比肩", "fuxing": "食神" },
        { "ming": "辛", "jibie": "余气", "shishen": "偏印", "fuxing": "劫财" }
      ],
      "fuxing": "",
      "xingyun": "冠带",
      "zizuo": "墓",
      "kongwang": ["申", "酉"],
      "nayin": "涧下水",
      "shensha": ["天德合", "月德合", "福星"]
    },
    "yue": {...},
    "ri": {...},
    "shi": {...}
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| nian | object | 年柱 |
| yue | object | 月柱 |
| ri | object | 日柱 |
| shi | object | 时柱 |

### 四柱通用字段

| 字段 | 类型 | 说明 |
|------|------|------|
| zhuxing | string | 主星，该柱天干对应的十神 |
| tiangan | string | 天干 |
| dizhi | string | 地支 |
| canggan | array | 藏干数组 |
| fuxing | string | 副星（备用字段） |
| xingyun | string | 星运/地势 |
| zizuo | string | 自坐 |
| kongwang | array | 空亡数组 |
| nayin | string | 纳音 |
| shensha | array | 神煞数组 |

### canggan（藏干）

| 字段 | 类型 | 说明 |
|------|------|------|
| ming | string | 藏干名称 |
| jibie | string | 本气/中气/余气 |
| shishen | string | 十神（主星） |
| fuxing | string | 副星（地支对应的十神） |

---

## chonghe（刑冲合害关系）

### 数据结构

```json
{
  "chonghe": {
    "he": [
      { "source": "甲", "target": "己", "desc": "甲己合", "type": "天干五合" }
    ],
    "chong": [
      { "source": "丑", "target": "未", "desc": "丑未相冲", "type": "六冲" }
    ],
    "hai": [
      { "source": "申", "target": "巳", "desc": "申巳拱会", "type": "拱会" }
    ]
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| he | array | 相合关系数组 |
| chong | array | 相冲关系数组 |
| hai | array | 拱会关系数组 |

### 关系对象

| 字段 | 类型 | 说明 |
|------|------|------|
| source | string | 关系源干支 |
| target | string | 关系目标干支 |
| desc | string | 关系描述，如「甲己合」 |
| type | string | 关系类型：天干五合、地支三合、地支六合、六冲、相害、拱会 |

### 关系类型说明

| 类型 | 说明 | 示例 |
|------|------|------|
| 天干五合 | 两干相合，化气生财 | 甲己合化土、乙庚合化金 |
| 地支三合 | 三支合局，力量强大 | 申子辰合水、亥卯未合木 |
| 地支六合 | 两支相合，关系密切 | 子丑合土、寅亥合木 |
| 六冲 | 两支相冲，冲突对立 | 子午冲、丑未冲 |
| 相害 | 两支相害，暗中损害 | 子未害、丑午害 |
| 拱会 | 两支夹合，力量次之 | 申巳拱会午 |

---

## nengliang（能量分析）

### 数据结构

```json
{
  "nengliang": {
    "wuxing": {
      "elements": [
        { "id": "wood", "name": "木", "score": 6.5, "level": "囚", "logs": [...] }
      ],
      "totalScore": 67.8,
      "balance": 0.55
    },
    "shishen": {
      "zonggeshu": 16,
      "byCount": [
        { "ming": "偏财", "geshu": 3, "baifengbi": 18.8 }
      ],
      "byEnergy": [
        { "ming": "正财", "fenshu": 27, "baifengbi": 18 }
      ]
    }
  }
}
```

### wuxing（五行能量）

| 字段 | 类型 | 说明 |
|------|------|------|
| elements | array | 五行元素数组 |
| totalScore | number | 总分 |
| balance | number | 平衡指数 |
| count | object | 五行数量统计（木/火/土/金/水） |
| missing | array | 缺失的五行列表 |
| isComplete | boolean | 五行是否齐全 |

### wuxing.elements（五行元素）

| 字段 | 类型 | 说明 |
|------|------|------|
| id | string | 五行 ID：wood/fire/earth/metal/water |
| name | string | 五行名称：木/火/土/金/水 |
| score | number | 得分 |
| level | string | 旺衰程度：旺、相、休、囚、死 |
| logs | array | 计算日志 |

### wuxing.count（五行数量统计）

| 字段 | 类型 | 说明 |
|------|------|------|
| wood | number | 木的个数 |
| fire | number | 火的个数 |
| earth | number | 土的个数 |
| metal | number | 金的个数 |
| water | number | 水的个数 |

### wuxing.missing（缺失五行）

| 字段 | 类型 | 说明 |
|------|------|------|
| - | array | 缺失的五行列表（如：['金', '土']） |

### wuxing.isComplete（五行是否齐全）

| 字段 | 类型 | 说明 |
|------|------|------|
| - | boolean | 五行是否齐全（true=齐全，false=缺失） |

### shishen（十神能量）

| 字段 | 类型 | 说明 |
|------|------|------|
| zonggeshu | number | 总个数 |
| byCount | array | 按个数统计 |
| byEnergy | array | 按能量统计 |

### byCount / byEnergy 统计项

| 字段 | 类型 | 说明 |
|------|------|------|
| ming | string | 十神名称 |
| geshu | number | 个数（仅 byCount） |
| fenshu | number | 分数（仅 byEnergy） |
| baifengbi | number | 百分比 |

### 十神对照表

| 日干 | 比肩 | 劫财 | 食神 | 伤官 | 偏财 | 正财 | 七杀 | 正官 | 偏印 | 正印 |
|------|------|------|------|------|------|------|------|------|------|------|
| 甲 | 甲 | 乙 | 丙 | 丁 | 戊 | 己 | 庚 | 辛 | 壬 | 癸 |
| 乙 | 乙 | 甲 | 丁 | 丙 | 己 | 戊 | 辛 | 庚 | 癸 | 壬 |
| 丙 | 丙 | 丁 | 戊 | 己 | 庚 | 辛 | 壬 | 癸 | 甲 | 乙 |
| 丁 | 丁 | 丙 | 己 | 戊 | 辛 | 庚 | 癸 | 壬 | 乙 | 甲 |
| 戊 | 戊 | 己 | 庚 | 辛 | 壬 | 癸 | 甲 | 乙 | 丙 | 丁 |
| 己 | 己 | 戊 | 辛 | 庚 | 癸 | 壬 | 乙 | 甲 | 丁 | 丙 |
| 庚 | 庚 | 辛 | 壬 | 癸 | 甲 | 乙 | 丙 | 丁 | 戊 | 己 |
| 辛 | 辛 | 庚 | 癸 | 壬 | 乙 | 甲 | 丁 | 丙 | 己 | 戊 |
| 壬 | 壬 | 癸 | 甲 | 乙 | 丙 | 丁 | 戊 | 己 | 庚 | 辛 |
| 癸 | 癸 | 壬 | 乙 | 甲 | 丁 | 丙 | 己 | 戊 | 辛 | 庚 |

### 五行特性

| 五行 | 代表颜色 | 性格特征 | 职业方向 |
|------|----------|----------|----------|
| 木 | 绿色、青色 | 仁慈、善良、有生发性 | 教育、文化、设计 |
| 火 | 红色、紫色 | 热情、开朗、有活力 | 餐饮、娱乐、演艺 |
| 土 | 黄色、棕色 | 稳重、厚道、有诚信 | 房地产、建筑、农业 |
| 金 | 白色、金色 | 果断、刚毅、有原则 | 金融、法律、军警 |
| 水 | 蓝色、黑色 | 聪明、灵活、有智慧 | 贸易、咨询、科技 |

---

## geju（格局分析）

### 数据结构

```json
{
  "geju": {
    "rizhu": "癸，水命人",
    "geju": "普通格局",
    "shuoming": "",
    "tiaohou": "先丙后辛，甲木次之。",
    "xiyong": ["金", "木"],
    "jihui": ["火", "土"],
    "jianyi": "此命局无明显格局，以普通命局论。日主平衡。取金、木为用神，火、土为忌神。先丙后辛，甲木次之。",
    "qiangruo": {
      "chengdu": "平衡",
      "fenshu": 0
    }
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| rizhu | string | 日主描述，格式如「癸，水命人」 |
| geju | string | 格局名称 |
| shuoming | string | 格局说明 |
| tiaohou | string | 调候用神 |
| xiyong | array | 喜用元素数组 |
| jihui | array | 忌讳元素数组 |
| jianyi | string | 建议 |
| qiangruo | object | 强弱分析 |

### qiangruo（强弱分析）

| 字段 | 类型 | 说明 |
|------|------|------|
| chengdu | string | 程度描述：太弱、偏弱、平衡、偏旺、旺、从旺 |
| fenshu | number | 分数 |

### 身强程度评分标准

| 程度 | 分数范围 | 含义 |
|------|----------|------|
| 太弱 | 0-20 | 日主极弱，需依靠他人 |
| 偏弱 | 21-40 | 日主较弱，需生扶 |
| 平衡 | 41-60 | 日主平衡，运势平稳 |
| 偏旺 | 61-80 | 日主较强，需克制 |
| 旺 | 81-90 | 日主极旺，顺其势而为 |
| 从旺 | 91-100 | 日主极强，宜顺势发展 |

---

## dayun（大运流年）

### 数据结构

```json
{
  "dayun": {
    "taiyuan": "乙未(沙中金)",
    "taixi": "戊午(天上火)",
    "minggong": "戊申(大驿土)",
    "shengong": "庚戌(钗钏金)",
    "qiyun": "8年1个月15天12时52分 (2005年5月26日  23:05:00后起运)",
    "dayunCount": 11,
    "dayun": [
      {
        "id": 0,
        "name": "童限",
        "startYear": 1997,
        "endYear": 2005,
        "startAge": 1,
        "endAge": 8,
        "shishen": "伤官"
      },
      {
        "id": 1,
        "name": "大运1",
        "startYear": 2013,
        "endYear": 2022,
        "startAge": 9,
        "endAge": 18,
        "shishen": "食神"
      }
    ]
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| taiyuan | string | 胎元 |
| taixi | string | 胎息 |
| minggong | string | 命宫 |
| shengong | string | 身宫 |
| qiyun | string | 起运信息 |
| dayunCount | number | 大运数量 |
| dayun | array | 大运数组 |

### dayun（单元）

| 字段 | 类型 | 说明 |
|------|------|------|
| id | number | 编号（0=童限，1-10=大运） |
| name | string | 名称 |
| startYear | number | 起始年代 |
| endYear | number | 结束年代 |
| startAge | number | 起始年龄 |
| endAge | number | 结束年龄 |
| shishen | string | 十神 |

---

## shensha（神煞）

神煞信息包含在四柱的 shensha 字段中。

### 常见神煞

| 神煞 | 五行 | 含义与作用 |
|------|------|-----------|
| 天乙贵人 | 土 | 最吉利的神煞，能化解危难，遇难成祥 |
| 太极贵人 | 水 | 主聪明智慧，爱好学习，有艺术天赋 |
| 天德贵人 | 土 | 逢凶化吉，贵人相助，消灾解厄 |
| 月德贵人 | 土 | 与天德类似，但影响力较小 |
| 文昌星 | 木 | 主学业功名，利于考试、升学 |
| 驿马星 | 火 | 主变动迁移，利于出行、搬家 |
| 华盖星 | 土 | 主艺术才华，喜神秘学 |
| 将星 | 金 | 主领导能力，有组织管理才能 |
| 红鸾星 | 火 | 主婚姻喜庆，桃花运 |
| 天喜星 | 水 | 主喜悦之事，有意外惊喜 |
| 桃花星 | 水 | 主感情运势，易有异性缘 |
| 阳刃 | 金 | 主个性刚强，易有意外伤害 |
| 长生 | 水 | 主生命力旺盛，有创造力 |
| 墓 | 土 | 主收藏、储藏，有积蓄能力 |
| 帝旺 | 木 | 主运势旺盛，有权威地位 |

---

## nayin（纳音）

纳音信息包含在四柱的 nayin 字段中。

### 纳音对照表

| 纳音 | 对应年份 | 五行 | 特性 |
|------|----------|------|------|
| 海中金 | 甲子、乙丑 | 金 | 深沉内敛，有贵人相助 |
| 炉中火 | 丙寅、丁卯 | 火 | 热情积极，有艺术天赋 |
| 大林木 | 戊辰、己巳 | 木 | 成长性好，有发展空间 |
| 路旁土 | 庚午、辛未 | 土 | 稳重踏实，有积蓄能力 |
| 剑锋金 | 壬申、癸酉 | 金 | 果断刚强，有领导力 |
| 山头火 | 甲戌、乙亥 | 火 | 热情大方，有创造力 |
| 涧下水 | 丙子、丁丑 | 水 | 聪明灵活，有智慧 |
| 城头土 | 戊寅、己卯 | 土 | 稳重厚道，有诚信 |
| 白蜡金 | 庚辰、辛巳 | 金 | 优雅精致，有品味 |
| 杨柳木 | 壬午、癸未 | 木 | 柔和灵活，适应性强 |
| 井泉水 | 甲申、乙酉 | 水 | 源源不断，有创造力 |
| 屋上土 | 丙戌、丁亥 | 土 | 有靠山，有贵人相助 |
| 霹雳火 | 戊子、己丑 | 火 | 刚烈威猛，有爆发力 |
| 松柏木 | 庚寅、辛卯 | 木 | 坚韧不拔，有毅力 |
| 长流水 | 壬辰、癸巳 | 水 | 财运亨通，有流动资产 |
| 砂中金 | 甲午、乙未 | 金 | 潜力股，有发展空间 |
| 山下火 | 丙申、丁酉 | 火 | 热情开朗，有感染力 |
| 平地木 | 庚子、辛丑 | 木 | 稳步发展，有积累 |
| 壁上土 | 壬寅、癸卯 | 土 | 有靠山，有贵人 |
| 金箔金 | 甲辰、乙巳 | 金 | 表面光鲜，有虚荣心 |
| 覆灯火 | 丙午、丁未 | 火 | 温柔细腻，有艺术天赋 |
| 天河水 | 戊申、己酉 | 水 | 财运好，有意外之财 |
| 大驿土 | 庚戌、辛亥 | 土 | 稳重踏实，有积蓄 |

---

## trueSolarInfo（真太阳时信息）

当 useTrueSolar=true 时返回此字段。

### 数据结构

```json
{
  "trueSolarInfo": {
    "inputHour": 10,
    "inputMinute": 0,
    "longitude": 116.42,
    "equationOfTime": -1.32,
    "timezoneOffset": -0.24,
    "adjustedHour": 10,
    "adjustedMinute": 13
  }
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| inputHour | int | 原始输入时辰 |
| inputMinute | int | 原始输入分钟 |
| longitude | float | 地点经度 |
| equationOfTime | float | 时差方程值（分钟） |
| timezoneOffset | float | 时区偏移（小时） |
| adjustedHour | int | 调整后时辰 |
| adjustedMinute | int | 调整后分钟 |

---

## 天干地支对照表

### 天干

| 天干 | 五行 | 天干 | 五行 |
|------|------|------|------|
| 甲 | 木 | 己 | 土 |
| 乙 | 木 | 庚 | 金 |
| 丙 | 火 | 辛 | 金 |
| 丁 | 火 | 壬 | 水 |
| 戊 | 土 | 癸 | 水 |

### 地支

| 地支 | 五行 | 地支 | 五行 |
|------|------|------|------|
| 子 | 水 | 午 | 火 |
| 丑 | 土 | 未 | 土 |
| 寅 | 木 | 申 | 金 |
| 卯 | 木 | 酉 | 金 |
| 辰 | 土 | 戌 | 土 |
| 巳 | 火 | 亥 | 水 |

### 地支藏干

| 地支 | 藏干 | 地支 | 藏干 |
|------|------|------|------|
| 子 | 癸 | 午 | 丁、己 |
| 丑 | 己、癸、辛 | 未 | 己、丁、乙 |
| 寅 | 甲、丙、戊 | 申 | 庚、壬、戊 |
| 卯 | 乙 | 酉 | 辛 |
| 辰 | 戊、癸、乙 | 戌 | 戊、辛、丁 |
| 巳 | 丙、戊、庚 | 亥 | 壬、甲 |

---

## 时辰对照表

| 时辰 | 时间段 | 时辰 | 时间段 |
|------|--------|------|--------|
| 子时 | 23:00-00:59 | 午时 | 11:00-12:59 |
| 丑时 | 01:00-02:59 | 未时 | 13:00-14:59 |
| 寅时 | 03:00-04:59 | 申时 | 15:00-16:59 |
| 卯时 | 05:00-06:59 | 酉时 | 17:00-18:59 |
| 辰时 | 07:00-08:59 | 戌时 | 19:00-20:59 |
| 巳时 | 09:00-10:59 | 亥时 | 21:00-22:59 |
